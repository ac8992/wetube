(()=>{var e=document.querySelector("video"),t=document.getElementById("play"),n=document.getElementById("stop"),a=t.querySelector("i"),u=document.getElementById("mute"),i=u.querySelector("i"),d=document.getElementById("volume"),r=document.getElementById("currenTime"),o=document.getElementById("totalTime"),s=document.getElementById("timeline"),c=document.getElementById("fullScreen"),l=c.querySelector("i"),m=document.getElementById("videoContainer"),f=document.getElementById("videoControls"),v=null,p=null,y=.5,E=function(e){return new Date(1e3*e).toISOString().substr(11,8)};r.innerText=E(Math.floor(0)),e.volume=y;var L=function(t){e.pause(),e.currentTime=0,a.classList=e.paused?"fas fa-play":"fas fa-pause"},T=function(t){e.muted?e.muted=!1:e.muted=!0,i.classList=e.muted?"fas fa-volume-mute":"fas fa-volume-up",d.value=e.muted?0:y},g=function(){document.fullscreenElement?(document.exitFullscreen(),l.classList="fas fa-expand"):(m.requestFullscreen(),l.classList="fas fa-compress")},I=function(){return f.classList.remove("showing")},h=function(t){e.paused?e.play():e.pause(),a.classList=e.paused?"fas fa-play":"fas fa-pause"};t.addEventListener("click",(function(t){e.paused?e.play():e.pause(),a.classList=e.paused?"fas fa-play":"fas fa-pause"})),n.addEventListener("click",L),u.addEventListener("click",T),d.addEventListener("input",(function(t){var n=t.target.value;e.muted&&(e.muted=!1,u.innerText="Mute"),y=n,e.volume=n})),e.addEventListener("loadedmetadata",(function(){o.innerText=E(Math.floor(e.duration)),s.max=Math.floor(e.duration)})),e.addEventListener("timeupdate",(function(){r.innerText=E(Math.floor(e.currentTime)),s.value=Math.floor(e.currentTime)})),e.addEventListener("click",h),e.addEventListener("ended",(function(){var e=m.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),m.addEventListener("mousemove",(function(){v&&(clearTimeout(v),v=null),p&&(clearTimeout(p),p=null),f.classList.add("showing"),p=setTimeout(I,3e3)})),m.addEventListener("mouseleave",(function(){v=setTimeout(I,3e3)})),s.addEventListener("input",(function(t){var n=t.target.value;e.currentTime=n})),c.addEventListener("click",g),m.addEventListener("keydown",(function(t){var n=t.code;"Space"===n?h():"KeyF"===n?g():"KeyM"===n?T():"KeyS"===n?L():"ArrowRight"===n?e.currentTime=e.currentTime+5:"ArrowLeft"===n&&(e.currentTime=e.currentTime-5)}))})();